-- MySQL Script generated by MySQL Workbench
-- vie 03 mar 2017 22:02:43 CST
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema acadTPI1
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema acadTPI1
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `acadTPI1` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `acadTPI1` ;

-- -----------------------------------------------------
-- Table `acadTPI1`.`proceso`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`proceso` (
  `id_proceso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `nombre_proceso` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_proceso`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`caso`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`caso` (
  `id_caso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `Proceso_id_proceso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `descripcion_caso` VARCHAR(150) NULL DEFAULT NULL,
  PRIMARY KEY (`id_caso`),
  INDEX `fk_Caso_Proceso1_idx` (`Proceso_id_proceso` ASC),
  CONSTRAINT `fk_Caso_Proceso1`
    FOREIGN KEY (`Proceso_id_proceso`)
    REFERENCES `acadTPI1`.`proceso` (`id_proceso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`caso_detalle`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`caso_detalle` (
  `id_caso_detalle` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `fecha_inicio` DATETIME NOT NULL,
  `Caso_id_caso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  PRIMARY KEY (`id_caso_detalle`),
  INDEX `fk_Caso_detalle_Caso1_idx1` (`Caso_id_caso` ASC),
  CONSTRAINT `fk_Caso_detalle_Caso1`
    FOREIGN KEY (`Caso_id_caso`)
    REFERENCES `acadTPI1`.`caso` (`id_caso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`caso_detalle_requisito`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`caso_detalle_requisito` (
  `id_caso_detalle_requisito` INT(5) NOT NULL,
  `Caso_detalle_id_caso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  PRIMARY KEY (`id_caso_detalle_requisito`),
  INDEX `fk_Caso_detalle_requisito_Caso_detalle1_idx` (`Caso_detalle_id_caso` ASC),
  CONSTRAINT `fk_Caso_detalle_requisito_Caso_detalle1`
    FOREIGN KEY (`Caso_detalle_id_caso`)
    REFERENCES `acadTPI1`.`caso_detalle` (`id_caso_detalle`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`caso_detalle_requisito_atestado`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`caso_detalle_requisito_atestado` (
  `id_caso_detalle_requisito_atestado` INT(6) UNSIGNED ZEROFILL NOT NULL,
  `Caso_detalle_requisito_id_caso_detalle_requisito` INT(6) NOT NULL,
  `comentarios` VARCHAR(45) NULL DEFAULT NULL,
  `fecha_fin` DATE NOT NULL,
  PRIMARY KEY (`id_caso_detalle_requisito_atestado`),
  INDEX `fk_Caso_detalle_requisito_atestado_Caso_detalle_requisito1_idx` (`Caso_detalle_requisito_id_caso_detalle_requisito` ASC),
  CONSTRAINT `fk_Caso_detalle_requisito_atestado_Caso_detalle_requisito1`
    FOREIGN KEY (`Caso_detalle_requisito_id_caso_detalle_requisito`)
    REFERENCES `acadTPI1`.`caso_detalle_requisito` (`id_caso_detalle_requisito`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`tipo_paso`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`tipo_paso` (
  `id_tipo_paso` INT(3) UNSIGNED ZEROFILL NOT NULL,
  `nombre_tipo` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_tipo_paso`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`paso`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`paso` (
  `id_paso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `Tipo_paso_id_tipo_paso` INT(3) UNSIGNED ZEROFILL NOT NULL,
  `nombre_paso` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_paso`),
  INDEX `fk_Paso_Tipo_paso1_idx` (`Tipo_paso_id_tipo_paso` ASC),
  CONSTRAINT `fk_Paso_Tipo_paso1`
    FOREIGN KEY (`Tipo_paso_id_tipo_paso`)
    REFERENCES `acadTPI1`.`tipo_paso` (`id_tipo_paso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`tipo_requisito`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`tipo_requisito` (
  `id_tipo_requisito` INT(3) UNSIGNED ZEROFILL NOT NULL,
  `nombre_tipo` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_tipo_requisito`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`requisito`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`requisito` (
  `id_requisito` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `id_tipo_requisito_id_tipo_requisito` INT(3) UNSIGNED ZEROFILL NOT NULL,
  `nombre_requisito` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_requisito`),
  INDEX `fk_Requisito_id_tipo_requisito_idx` (`id_tipo_requisito_id_tipo_requisito` ASC),
  CONSTRAINT `fk_Requisito_id_tipo_requisito`
    FOREIGN KEY (`id_tipo_requisito_id_tipo_requisito`)
    REFERENCES `acadTPI1`.`tipo_requisito` (`id_tipo_requisito`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`paso_requisito`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`paso_requisito` (
  `id_paso_requisito` INT(10) UNSIGNED ZEROFILL NOT NULL,
  `Paso_id_paso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `Requisito_id_requisito` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `estado_aceptado_rechazado` TINYINT(1) NOT NULL,
  `fecha` DATETIME NOT NULL,
  `comentarios` VARCHAR(100) NULL DEFAULT NULL,
  PRIMARY KEY (`id_paso_requisito`),
  INDEX `fk_Paso_requisito_Requisito1_idx` (`Requisito_id_requisito` ASC),
  INDEX `fk_Paso_requisito_Paso1_idx` (`Paso_id_paso` ASC),
  CONSTRAINT `fk_Paso_requisito_Paso1`
    FOREIGN KEY (`Paso_id_paso`)
    REFERENCES `acadTPI1`.`paso` (`id_paso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Paso_requisito_Requisito1`
    FOREIGN KEY (`Requisito_id_requisito`)
    REFERENCES `acadTPI1`.`requisito` (`id_requisito`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `acadTPI1`.`proceso_detalle`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `acadTPI1`.`proceso_detalle` (
  `id_proceso_detalle` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `Proceso_id_proceso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `Paso_id_paso` INT(4) UNSIGNED ZEROFILL NOT NULL,
  `persona_responsable` VARCHAR(45) NOT NULL,
  `fecha` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`id_proceso_detalle`),
  INDEX `fk_Proceso_detalle_Paso1_idx` (`Paso_id_paso` ASC),
  INDEX `fk_Proceso_detalle_Proceso1_idx` (`Proceso_id_proceso` ASC),
  CONSTRAINT `fk_Proceso_detalle_Paso1`
    FOREIGN KEY (`Paso_id_paso`)
    REFERENCES `acadTPI1`.`paso` (`id_paso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Proceso_detalle_Proceso1`
    FOREIGN KEY (`Proceso_id_proceso`)
    REFERENCES `acadTPI1`.`proceso` (`id_proceso`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `acadTPI1`.`proceso`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`proceso` (`id_proceso`, `nombre_proceso`) VALUES (1, 'CERTIFICACION DE DOCUMENTOS');
INSERT INTO `acadTPI1`.`proceso` (`id_proceso`, `nombre_proceso`) VALUES (2, 'EXPEDICION DE DOCUMENTOS');
INSERT INTO `acadTPI1`.`proceso` (`id_proceso`, `nombre_proceso`) VALUES (3, 'APROBACION POR JD');

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`caso`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`caso` (`id_caso`, `Proceso_id_proceso`, `descripcion_caso`) VALUES (1, 1, 'CERTIFICACION DE CONSTANCIA ACADEMICA');
INSERT INTO `acadTPI1`.`caso` (`id_caso`, `Proceso_id_proceso`, `descripcion_caso`) VALUES (2, 1, 'CERTIFICACION DE CONTANCIA DE ESTUDIO');

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`caso_detalle_requisito`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`caso_detalle_requisito` (`id_caso_detalle_requisito`, `Caso_detalle_id_caso`) VALUES (1, 1);
INSERT INTO `acadTPI1`.`caso_detalle_requisito` (`id_caso_detalle_requisito`, `Caso_detalle_id_caso`) VALUES (2, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`caso_detalle_requisito_atestado`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`caso_detalle_requisito_atestado` (`id_caso_detalle_requisito_atestado`, `Caso_detalle_requisito_id_caso_detalle_requisito`, `comentarios`, `fecha_fin`) VALUES (1, 1, 'EN PROCESO DE DE CERTIFICACION POR NOTARIO', '24/2/17');

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`tipo_paso`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`tipo_paso` (`id_tipo_paso`, `nombre_tipo`) VALUES (1, 'ADMINISTRATIVO');
INSERT INTO `acadTPI1`.`tipo_paso` (`id_tipo_paso`, `nombre_tipo`) VALUES (2, 'JUNTA DIRECTIVA');

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`paso`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`paso` (`id_paso`, `Tipo_paso_id_tipo_paso`, `nombre_paso`) VALUES (1, 1, 'RECEPCION DE DOCUMENTOS');
INSERT INTO `acadTPI1`.`paso` (`id_paso`, `Tipo_paso_id_tipo_paso`, `nombre_paso`) VALUES (2, 1, 'VALIDACION DE DOCUMENTOS');
INSERT INTO `acadTPI1`.`paso` (`id_paso`, `Tipo_paso_id_tipo_paso`, `nombre_paso`) VALUES (3, 1, 'REENVIO DE DOCUMENTOS');
INSERT INTO `acadTPI1`.`paso` (`id_paso`, `Tipo_paso_id_tipo_paso`, `nombre_paso`) VALUES (4, 1, 'IMPRESION DE DOCUMENTOS');

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`tipo_requisito`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`tipo_requisito` (`id_tipo_requisito`, `nombre_tipo`) VALUES (1, 'DOCUMENTO EXTERNO');
INSERT INTO `acadTPI1`.`tipo_requisito` (`id_tipo_requisito`, `nombre_tipo`) VALUES (2, 'CONSTANCIA');
INSERT INTO `acadTPI1`.`tipo_requisito` (`id_tipo_requisito`, `nombre_tipo`) VALUES (3, 'MATERIAL');
INSERT INTO `acadTPI1`.`tipo_requisito` (`id_tipo_requisito`, `nombre_tipo`) VALUES (4, 'RECIBO');

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`requisito`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`requisito` (`id_requisito`, `id_tipo_requisito_id_tipo_requisito`, `nombre_requisito`) VALUES (1, 1, 'DUI ');
INSERT INTO `acadTPI1`.`requisito` (`id_requisito`, `id_tipo_requisito_id_tipo_requisito`, `nombre_requisito`) VALUES (2, 1, 'CONSTANCIA DE TRABAJO');
INSERT INTO `acadTPI1`.`requisito` (`id_requisito`, `id_tipo_requisito_id_tipo_requisito`, `nombre_requisito`) VALUES (3, 2, 'CONSTANCIA DE MATRICULA');

COMMIT;


-- -----------------------------------------------------
-- Data for table `acadTPI1`.`proceso_detalle`
-- -----------------------------------------------------
START TRANSACTION;
USE `acadTPI1`;
INSERT INTO `acadTPI1`.`proceso_detalle` (`id_proceso_detalle`, `Proceso_id_proceso`, `Paso_id_paso`, `persona_responsable`, `fecha`) VALUES (1, 1, 1, 'RECEPTOR EN VENTANILLA', '21/2/17');
INSERT INTO `acadTPI1`.`proceso_detalle` (`id_proceso_detalle`, `Proceso_id_proceso`, `Paso_id_paso`, `persona_responsable`, `fecha`) VALUES (1, 1, 2, 'AUXILIAR ACADEMICO', '21/2/17');

COMMIT;

